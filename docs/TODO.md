# Remaining Tasks

## 실거래 전환 준비

### 필수 (Must Have)

- [ ] **USDT 입금**: 바이낸스 선물 계정에 $300+ 입금
- [ ] **Shadow 검증 완료**: 50개+ 거래, 다양한 시장 상황
  - [ ] SHORT 거래 10개+ 검증
  - [ ] 하락장 또는 횡보장 경험
  - [ ] 승률 60% 이상 유지
  - [ ] Profit Factor 1.5 이상

### Live 모드 코드 통합

- [ ] `realtime_worker_ws.py`에 live 실행 로직 추가
  ```python
  elif mode == "live":
      from services.execution.trader import place_entry_with_brackets
      # 실제 주문 실행
  ```
- [ ] 실제 포지션 조회 API 추가 (`BinanceClient.get_positions()`)
- [ ] 주문 체결 확인 로직
- [ ] 주문 실패 시 재시도 로직

### 리스크 관리

- [ ] 일일 손실 한도 시 자동 거래 중지
- [ ] 연속 손실 시 포지션 크기 축소
- [ ] 비정상 슬리피지 감지 및 알림

---

## 시스템 개선

### 모니터링

- [ ] Prometheus/Grafana 메트릭 추가
- [ ] 슬랙/텔레그램 알림 연동
- [ ] PnL 실시간 대시보드

### 모델

- [ ] 정기 재학습 파이프라인 (주간)
- [ ] A/B 테스트 프레임워크
- [ ] 모델 드리프트 감지

### 데이터

- [ ] 히스토리컬 데이터 백업
- [ ] 데이터 품질 자동 체크
- [ ] 누락 데이터 자동 백필

---

## 알려진 이슈

### 코드

1. **FutureWarning**: `predictor.py:95` - pandas fillna 경고
   ```
   FutureWarning: Downcasting object dtype arrays on .fillna
   ```

2. **레거시 코드**: `realtime_worker.py` - 사용되지 않음, 정리 필요

3. **하드코딩된 값들**: SL/TP 계수, 데이터 freshness 등
   - 설정 파일로 분리 권장

### 운영

1. **단일 워커**: 장애 시 전체 시스템 중단
   - 이중화 또는 헬스체크 필요

2. **수동 배포**: Docker 이미지 수동 빌드
   - CI/CD 파이프라인 구축 권장

---

## 검증 체크리스트 (실거래 전)

### 시장 상황 다양성

| 상황 | 검증 | 비고 |
|------|------|------|
| 상승장 (Bull) | ✅ | 오늘 검증됨 |
| 하락장 (Bear) | ❌ | 미검증 |
| 횡보장 (Sideways) | ❌ | 미검증 |
| 고변동성 | ❌ | 미검증 |
| 저변동성 | ❌ | 미검증 |

### 거래 유형

| 유형 | 검증 | 필요 |
|------|------|------|
| LONG | ✅ 16개 | 충분 |
| SHORT | ❌ 3개 | 10개+ 필요 |

### 세션

| 세션 | 검증 |
|------|------|
| 아시아 | ✅ |
| 유럽 | ⚠️ 일부 |
| 미국 | ❌ |

---

## 권장 일정

### Day 1-2: Shadow 검증 계속
- 50개+ 거래 달성
- 다양한 시장 상황 경험

### Day 3: 코드 준비
- Live 모드 코드 통합
- 테스트넷 검증

### Day 4: 소액 실거래
- $100 입금
- 소액 ($10 마진) 테스트

### Day 5+: 점진적 확대
- 성과 확인 후 규모 확대
